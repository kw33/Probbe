
--------------------------------------------------
HHEAP CreateHeap (int size)
Создаёт кучу, возвращает хэндл кучи.

--------------------------------------------------
MemAlloc size
-------------
доделать - создание новой области памяти!!!!!!!!!!!!


--------------------------------------------------
MemReAlloc addr, newsize
------------------------
newsize не надо округлять здесь:...

(простое решение)
Если старый размер меньше нового (увеличиваем размер):
 Сделать новый блок с размером newblock.
 Скопировать туды байтики из addr.
 Очистить addr.
Если старый размер больше нового (надо уменьшить размер):
 Если разница размеров меньше минимального размера блока, то выход.
 Иначе изменить размер блока, сделать ЗАНЯТЫЙ блок из остатка,
 не забыв изменить ссылки. ;) и удалить его,
 чтоб (возможно) объединить незанятые блоки.

(сложнее)
Если старый размер меньше нового (увеличиваем размер):
Если после блока есть свободное пространство достаточного размера - 
- расширить блок до newsize (если ещё остаётся место для нового блока),
иначе расширить на весь незанятый блок.
...

--------------------------------------------------
MemFree addr
------------
Снимаем флаг занятости блока (BLOCKISBUSY).
Вызов процедуры объединения текущего и следующего блоков.
Вызов процедуры объединения текущего и предыдущего блоков.


---------------------------------
MergeBlocks addr1, addr2
---------------------------------
Процедура объединения двух свободных блоков.
Вызывается: MergeBlocks (.Next, .Prev) или MergeBlocks (.Prev, .Next),
поэтому addr1 или addr2 могут быть равны NULL.
Если addr1 или addr2 равен NULL, то выход.
Подразумевается, что addr1 точно свободен.
Сначала проверяем, что блок addr2 не занят, иначе - выход.
Если addr1 больше, то обмениваем addr1 и addr2. 
Проверяем, что первый блок встык ко второму. Если нет - выход.

(подразумеваем, что все блоки расположены последовательно - 
 каждый следующий блок расположен после предыдущего)

addr1.Size = addr1.Size + addr2.Size + INFOSIZE
addr1.Next = addr2.Next
addr1.Prev без изменений
